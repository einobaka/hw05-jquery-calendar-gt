<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Scripts</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <style>
        #test {
            background-color: aqua;
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="../script.js"></script>

</head>

<header class="jumbotron">
    <h1 class="display-3">Work Day Scheduler</h1>
    <p class="lead">A simple calendar app for scheduling your work day</p>
    <p id="currentDay" class="lead"></p>
</header>

<body class="container">

    <div id="timeBlock"> </div>

    <script>

        if (timeNowin24 <= 12) {
            var period = "AM";
        }
        else {
            var period = "PM";
        }

        // The current day and time
        var time = moment().format('LLLL');
        $("#currentDay").text(time);

        // Time now in 12 hr format
        var timeNowin12 = moment().format('h');

        // Time now in 24 hr format
        // var timeNowin24 = moment().format('k');
        console.log(timeNowin24);

        // Test variable for when real time is not in sync to demo the list color coordination
        var timeNowin24 = 11;

        // // List of schedule slots
        timeSlot = ["07 AM", "08 AM ", "09 AM", "10 AM", "11 AM", "12 PM", "01 PM", "02 PM", "03 PM", "04 PM", "05 PM"]
        timeLock = [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17]
        timeInput = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k",]

        for (var i = 0; i < timeSlot.length; i++) {

            var scheduleSlot = timeSlot[i];
            var scheduleLock = timeLock[i];
            var scheduleInput = timeInput[i];

            var divPrime = $("<div>");
            var divSub = $("<div>");
            var divSub2 = $("<div>");
            var newSpan = $("<span>");
            var newInput = $("<input>");
            var newButton = $("<button>");

            // Main append block
            $("#timeBlock").append(divPrime);
            $(divPrime).attr("class", "input-group").append(divSub).append(newInput).append(divSub2);
            // Attribute assignment block
            $(divSub).attr("class", "input-group-prepend").append(newSpan);
            $(newSpan).attr("class", "input-group-text").text(scheduleSlot);
            $(newInput).attr("type", "text").attr("class", "form-control alert-dark").attr("placeholder", "").attr("id", scheduleLock);
            $(divSub2).attr("class", "input-group-append").append(newButton);
            $(newButton).attr("class", "btn btn-outline-secondary").attr("type", "button").text("SAVE").attr("id", scheduleInput);

            // List attributes
            if (scheduleLock == timeNowin24) {
                $(newInput).attr("type", "text").attr("class", "form-control alert-success").attr("placeholder", "")
            }
            else if (scheduleLock > timeNowin24) {
                $(newInput).attr("type", "text").attr("class", "form-control alert-warning").attr("placeholder", "")
            };


        };

        var tasks = {
            at7: "",
            at8: "",
            atd9: "",
            at10: "",
            at11: "",
            at12: "",
            at1: "",
            at2: "",
            at3: "",
            at4: "",
            at5: "",
        };

        $(".btn").on("click", function (e) {

            if (e.target.matches("#a")) {
                tasks.at7 = $("#7").val().trim();
                localStorage.setItem("7AM", JSON.stringify(tasks.at7));

            }
            if (e.target.matches("#b")) {
                tasks.at8 = $("#8").val();
                localStorage.setItem("8AM", JSON.stringify(tasks.at8));
            }
            if (e.target.matches("#c")) {
                var task = $("#9").val();
                console.log(task);
            }
            if (e.target.matches("#d")) {
                var task = $("#10").val();
                console.log(task);
            }
            if (e.target.matches("#e")) {
                var task = $("#11").val();
                console.log(task);
            }
            if (e.target.matches("#f")) {
                var task = $("#12").val();
                console.log(task);
            }
            if (e.target.matches("#g")) {
                var task = $("#13").val();
                console.log(task);
            }
            if (e.target.matches("#h")) {
                var task = $("#14").val();
                console.log(task);
            }
            if (e.target.matches("#i")) {
                var task = $("#15").val();
                console.log(task);
            }
            if (e.target.matches("#j")) {
                var task = $("#16").val();
                console.log(task);
            }
            if (e.target.matches("#k")) {
                var task = $("#17").val();
                console.log(task);
            }

        });

        function getSchedule() {

            if (tasks.at7 === "") {
                tasks.at7 = JSON.parse(localStorage.getItem("7AM"));
                console.log(tasks.at7);
                $("#7").attr("placeholder", tasks.at7)

            }
            // if (e.target.matches("#b")) {
            //     tasks.at8 = $("#8").val();
            //     localStorage.setItem("8AM", JSON.stringify(tasks.at8));
            // }
            // if (e.target.matches("#c")) {
            //     var task = $("#9").val();
            //     console.log(task);
            // }
            // if (e.target.matches("#d")) {
            //     var task = $("#10").val();
            //     console.log(task);
            // }
            // if (e.target.matches("#e")) {
            //     var task = $("#11").val();
            //     console.log(task);
            // }
            // if (e.target.matches("#f")) {
            //     var task = $("#12").val();
            //     console.log(task);
            // }
            // if (e.target.matches("#g")) {
            //     var task = $("#13").val();
            //     console.log(task);
            // }
            // if (e.target.matches("#h")) {
            //     var task = $("#14").val();
            //     console.log(task);
            // }
            // if (e.target.matches("#i")) {
            //     var task = $("#15").val();
            //     console.log(task);
            // }
            // if (e.target.matches("#j")) {
            //     var task = $("#16").val();
            //     console.log(task);
            // }
            // if (e.target.matches("#k")) {
            //     var task = $("#17").val();
            //     console.log(task);
            // }


        };
        getSchedule();



    </script>





</body>

</html>